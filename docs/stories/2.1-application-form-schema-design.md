# Story 2.1: Application Form Schema Design

## Status
Ready

## Story

**As a** product owner,
**I want** to define the 24+ questions for the application form,
**so that** the team collects complete creator/brand information.

## Acceptance Criteria

1. Form schema enumerates all required applicant fields (name, email, contact, social handles, brand details, content types, audience metrics, goals). @docs/prd/epic-details.md#us21-application-form-schema-design
2. Field types specified (text, email, URL, number, select, multi-select, textarea). @docs/prd/epic-details.md#us21-application-form-schema-design
3. Validation rules captured (required flags, formats, min/max lengths). @docs/prd/epic-details.md#us21-application-form-schema-design
4. Zod schema created in `/packages/shared/validation`. @docs/prd/epic-details.md#us21-application-form-schema-design @docs/prd/technical-assumptions.md#additional-technical-assumptions-and-requests
5. Schema documentation added to README or docs. @docs/prd/epic-details.md#us21-application-form-schema-design

## Tasks / Subtasks

- [ ] Gather field inventory (AC: 1, 2) [Source: docs/prd/epic-details.md#us21-application-form-schema-design]
  - [ ] Compile required sections (Applicant, Brand, Audience, Goals, Content, Logistics) with field labels. [Source: docs/prd/epic-details.md#us21-application-form-schema-design]
  - [ ] Identify field types (string, number, URL, enum/multi-select) for each question. [Source: docs/prd/technical-assumptions.md#additional-technical-assumptions-and-requests]
- [ ] Define validation rules (AC: 3) [Source: docs/prd/technical-assumptions.md#additional-technical-assumptions-and-requests]
  - [ ] Specify required vs optional fields, format constraints, and length/enum limits. [Source: docs/prd.md#non-functional-requirements]
  - [ ] Document nuanced validations (e.g., social links, audience ranges). [Source: docs/prd/epic-details.md#us21-application-form-schema-design]
- [ ] Implement Zod schema (AC: 4) [Source: docs/prd/technical-assumptions.md#additional-technical-assumptions-and-requests]
  - [ ] Create `packages/shared/validation/application-form.ts` exporting schema and types. [Source: docs/architecture.md#2-key-architectural-decisions]
  - [ ] Add unit tests for schema validation edge cases. @docs/prd/technical-assumptions.md#testing-requirements
- [ ] Document schema usage (AC: 5) [Source: docs/prd/epic-details.md#us21-application-form-schema-design]
  - [ ] Update README or `docs/` with field definitions, mapping, and usage notes. [Source: docs/prd.md#functional-requirements]
  - [ ] Include guidance on extending schema for future questions. [Source: docs/architecture.md#1-overview]

## Dev Notes

### Previous Story Insights
- No previous stories define the form schema; this story seeds shared validation consumed by Stories 2.2â€“2.4.

### Data Models
- Schema should align with database models planned for submissions (JSON payload fields). @docs/prd/epic-details.md#us23-form-submission-api

### API Specifications
- Resulting Zod schema becomes the contract for API validation (Story 2.3). @docs/prd/epic-details.md#us23-form-submission-api

### Component Specifications
- Story 2.2 UI will consume exported schema metadata for form rendering; ensure type-safe field definitions. @docs/stories/2.2-public-application-form-ui.md

### File Locations
- Primary schema file lives at `packages/shared/validation/application-form.ts`. [Source: docs/architecture.md#4-project-structure-relevant-parts]
- Tests placed in `packages/shared/__tests__/validation/application-form.test.ts`. @docs/prd/technical-assumptions.md#testing-requirements

### Testing Requirements
- Include Jest tests covering required field failures, enum validation, and optional fields. @docs/prd/technical-assumptions.md#testing-requirements

### Technical Constraints
- Schema must be extensible and type-safe, leveraging Zod inference for TypeScript consumers. @docs/architecture.md#2-key-architectural-decisions

## Testing

- [ ] Unit: Zod schema tests for required fields, format checks, and custom validators. @docs/prd/technical-assumptions.md#testing-requirements
- [ ] Integration: Ensure schema integrates with Story 2.2 form rendering (sanity check). @docs/stories/2.2-public-application-form-ui.md
- [ ] Documentation: Manual review of README/docs section for completeness. @docs/prd/epic-details.md#us21-application-form-schema-design

## Change Log

| Date       | Version | Description                                | Author |
| ---------- | ------- | ------------------------------------------ | ------ |
| 2025-11-03 | 0.1     | Initial draft for application form schema  | Bob    |

## QA Results

- Pending
